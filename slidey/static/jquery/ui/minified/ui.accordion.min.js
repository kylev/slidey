/*
 * jQuery UI Accordion 1.6rc5
 *
 * Copyright (c) 2009 AUTHORS.txt (http://ui.jquery.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Accordion
 *
 * Depends:
 *	ui.core.js
 */(function(e){e.widget("ui.accordion",{_init:function(){var i=this.options;if(i.navigation){var k=this.element.find("a").filter(i.navigationFilter);if(k.length){if(k.filter(i.header).length){i.active=k}else{i.active=k.parent().parent().prev();k.addClass("ui-accordion-current")}}}this.element.addClass("ui-accordion ui-widget ui-helper-reset");var g=this.element.children().addClass("ui-accordion-group");var l=i.headers=g.find("> :first-child").addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){e(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){e(this).removeClass("ui-state-hover")});l.next().wrap("<div></div>").addClass("ui-accordion-content").parent().addClass("ui-accordion-content-wrap ui-helper-reset ui-widget-content ui-corner-bottom");var j=i.active=c(l,i.active).toggleClass("ui-state-default").toggleClass("ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");j.parent().addClass(i.selectedClass);e("<span/>").addClass("ui-icon "+this.options.icons.header).prependTo(l);j.find(".ui-icon").toggleClass(this.options.icons.header).toggleClass(this.options.icons.headerSelected);if(e.browser.msie){this.element.find("a").css("zoom","1")}this.resize();this.element.attr("role","tablist");var h=this;i.headers.attr("role","tab").bind("keydown",function(m){return h._keydown(m)}).next().attr("role","tabpanel");i.headers.not(i.active||"").attr("aria-expanded","false").attr("tabIndex","-1").next().hide();if(!i.active.length){i.headers.eq(0).attr("tabIndex","0")}else{i.active.attr("aria-expanded","true").attr("tabIndex","0")}if(!e.browser.safari){i.headers.find("a").attr("tabIndex","-1")}if(i.event){this.element.bind((i.event)+".accordion",f)}},destroy:function(){this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role").unbind(".accordion");e.removeData(this.element[0],"accordion");var g=this.element.children().removeClass("ui-accordion-group "+this.options.selectedClass);var h=this.options.headers.unbind(".accordion").removeClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabindex");h.find("a").removeAttr("tabindex");h.children(".ui-icon").remove();h.next().children().removeClass("ui-accordion-content").each(function(){e(this).parent().replaceWith(this)})},_keydown:function(j){if(this.options.disabled||j.altKey||j.ctrlKey){return}var k=e.ui.keyCode;var i=this.options.headers.length;var g=this.options.headers.index(j.target);var h=false;switch(j.keyCode){case k.RIGHT:case k.DOWN:h=this.options.headers[(g+1)%i];break;case k.LEFT:case k.UP:h=this.options.headers[(g-1+i)%i];break;case k.SPACE:case k.ENTER:return f.call(this.element[0],{target:j.target})}if(h){e(j.target).attr("tabIndex","-1");e(h).attr("tabIndex","0");h.focus();return false}return true},resize:function(){var g=this.options,i;if(g.fillSpace){i=this.element.parent().height();g.headers.each(function(){i-=e(this).outerHeight()});var h=0;g.headers.next().each(function(){h=Math.max(h,e(this).innerHeight()-e(this).height())}).height(i-h).css("overflow","auto")}else{if(g.autoHeight){i=0;g.headers.next().each(function(){i=Math.max(i,e(this).outerHeight())}).height(i)}}},activate:function(g){f.call(this.element[0],{target:c(this.options.headers,g)[0]})}});function b(h,g){return function(){return h.apply(g,arguments)}}function d(i){if(!e.data(this,"accordion")){return}var g=e.data(this,"accordion");var h=g.options;h.running=i?0:--h.running;if(h.running){return}if(h.clearStyle){h.toShow.add(h.toHide).css({height:"",overflow:""})}g._trigger("change",null,h.data)}function a(g,n,k,l,o){var q=e.data(this,"accordion").options;q.toShow=g;q.toHide=n;q.data=k;var h=b(d,this);e.data(this,"accordion")._trigger("changestart",null,q.data);q.running=n.size()===0?g.size():n.size();if(q.animated){var j={};if(!q.alwaysOpen&&l){j={toShow:e([]),toHide:n,complete:h,down:o,autoHeight:q.autoHeight||q.fillSpace}}else{j={toShow:g,toHide:n,complete:h,down:o,autoHeight:q.autoHeight||q.fillSpace}}if(!q.proxied){q.proxied=q.animated}if(!q.proxiedDuration){q.proxiedDuration=q.duration}q.animated=e.isFunction(q.proxied)?q.proxied(j):q.proxied;q.duration=e.isFunction(q.proxiedDuration)?q.proxiedDuration(j):q.proxiedDuration;var p=e.ui.accordion.animations,i=q.duration,m=q.animated;if(!p[m]){p[m]=function(r){this.slide(r,{easing:m,duration:i||700})}}p[m](j)}else{if(!q.alwaysOpen&&l){g.toggle()}else{n.hide();g.show()}h(true)}n.prev().attr("aria-expanded","false").attr("tabIndex","-1");g.prev().attr("aria-expanded","true").attr("tabIndex","0").focus()}function f(l){var j=e.data(this,"accordion").options;if(j.disabled){return false}if(!l.target&&!j.alwaysOpen){j.active.parent().toggleClass(j.selectedClass);var i=j.active.next(),m={options:j,newHeader:e([]),oldHeader:j.active,newContent:e([]),oldContent:i},g=(j.active=e([]));a.call(this,g,i,m);return false}var k=e(l.target);k=e(k.parents(j.header)[0]||k);var h=k[0]==j.active[0];if(j.running||(j.alwaysOpen&&h)){return false}if(!k.is(j.header)){return}j.active.parent().toggleClass(j.selectedClass);j.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").find(".ui-icon").removeClass(j.icons.headerSelected).addClass(j.icons.header);if(!h){k.parent().addClass(j.selectedClass);k.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").find(".ui-icon").removeClass(j.icons.header).addClass(j.icons.headerSelected)}var g=k.next(),i=j.active.next(),m={options:j,newHeader:h&&!j.alwaysOpen?e([]):k,oldHeader:j.active,newContent:h&&!j.alwaysOpen?e([]):g,oldContent:i},n=j.headers.index(j.active[0])>j.headers.index(k[0]);j.active=h?e([]):k;a.call(this,g,i,m,h,n);return false}function c(h,g){return g?typeof g=="number"?h.filter(":eq("+g+")"):h.not(h.not(g)):g===false?e([]):h.filter(":eq(0)")}e.extend(e.ui.accordion,{version:"1.6rc5",defaults:{autoHeight:true,alwaysOpen:true,animated:"slide",event:"click",header:"a",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigationFilter:function(){return this.href.toLowerCase()==location.href.toLowerCase()},running:0,selectedClass:"ui-accordion-selected"},animations:{slide:function(g,i){g=e.extend({easing:"swing",duration:300},g,i);if(!g.toHide.size()){g.toShow.animate({height:"show"},g);return}var h=g.toHide.height(),j=g.toShow.height(),l=j/h,k=g.toShow.css("overflow");g.toShow.css({height:0,overflow:"hidden"}).show();g.toHide.filter(":hidden").each(g.complete).end().filter(":visible").animate({height:"hide"},{step:function(m){var n=(h-m)*l;if(e.browser.msie||e.browser.opera){n=Math.ceil(n)}g.toShow.height(n)},duration:g.duration,easing:g.easing,complete:function(){if(!g.autoHeight){g.toShow.css("height","auto")}g.toShow.css({overflow:k});g.complete()}})},bounceslide:function(g){this.slide(g,{easing:g.down?"easeOutBounce":"swing",duration:g.down?1000:200})},easeslide:function(g){this.slide(g,{easing:"easeinout",duration:700})}}})})(jQuery);